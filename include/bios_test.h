#ifndef _BIOS_TEST_H
#define _BIOS_TEST_H

#define BIOS_CHECKSUM ((volatile uint16_t *) 0xC00080)

#define BIOS_ERROR_WORK_RAM         0
#define BIOS_ERROR_BACKUP_RAM       1
#define BIOS_ERROR_PALETTE_BANK_0   2
#define BIOS_ERROR_PALETTE_BANK_1   3
#define BIOS_ERROR_VIDEO_RAM        4
#define BIOS_ERROR_CALENDAR         5
#define BIOS_ERROR_SYSTEM_ROM       6
#define BIOS_ERROR_MEMORY_CARD      7
#define BIOS_ERROR_Z80              8

void test_backup_ram();
void test_bios_checksum();
void test_led();
void test_memory_card();
void test_palette_ram();
void test_video_ram();
void test_work_ram();
void test_sound();
void test_rtc();

void print_error_msg(uint8_t type, uint32_t memory_location, uint16_t expected, uint16_t actual);
void _convert_hex_to_fix_ascii(uint8_t input, uint8_t *output_hi, uint8_t *output_lo);

static const char _backup_ram_str[] = "NEO-GEO ";
static const char _memory_card_str[] = "SNK ROM ";
static const char _palette_test_str[] = "TESTING PALETTE";

static const uint16_t work_ram_error[] = {
    0x0001, 0xf0ff,
    0x2002,
    0x0003, 0x708a,
    0x0007, 0x574f, 0x524b, 0x2052, 0x414d, 0x2045, 0x5252, 0x4f52, 0xffff,
    0x0003, 0x708c,
    //0x0004, 0x00c1, 0x6dba,
    0x0007, 0x4144, 0x4452, 0x4553, 0x5320, 0x2020, 0x5752, 0x4954, 0x4520, 0x5245, 0x4144, 0xffff,
    0x0000,
};

static const uint16_t backup_ram_error[] = {
    0x0001, 0xf0ff,
    0x2002,
    0x0003, 0x708a, 
    0x0007, 0x4241, 0x434b, 0x5550, 0x2052, 0x414d, 0x2045, 0x5252, 0x4f52, 0xffff, 
    0x0003, 0x708c, 
    //0x0004, 0x00c1, 0x6dba,
    0x0007, 0x4144, 0x4452, 0x4553, 0x5320, 0x2020, 0x5752, 0x4954, 0x4520, 0x5245, 0x4144, 0xffff,
    0x0000
};
static const uint16_t palette_bank_0_error[] = {
    0x0001, 0xf0ff, 
    0x2002, 
    0x0003, 0x708a, 
    0x0007, 0x434f, 0x4c4f, 0x5220, 0x5241, 0x4d20, 0x4241, 0x4e4b, 0x3020, 0x4552, 0x524f, 0x52ff, 
    0x0003, 0x708c, 
    //0x0004, 0x00c1, 0x6dba, 
    0x0007, 0x4144, 0x4452, 0x4553, 0x5320, 0x2020, 0x5752, 0x4954, 0x4520, 0x5245, 0x4144, 0xffff,
    0x0000
};
static const uint16_t palette_bank_1_error[] = {
    0x0001, 0xf0ff, 
    0x2002, 
    0x0003, 0x708a, 
    0x0007, 0x434f, 0x4c4f, 0x5220, 0x5241, 0x4d20, 0x4241, 0x4e4b, 0x3120, 0x4552, 0x524f, 0x52ff, 
    0x0003, 0x708c, 
    //0x0004, 0x00c1, 0x6dba, 
    0x0007, 0x4144, 0x4452, 0x4553, 0x5320, 0x2020, 0x5752, 0x4954, 0x4520, 0x5245, 0x4144, 0xffff,
    0x0000
};
static const uint16_t video_ram_error[] = {
    0x0001, 0xf0ff,
    0x2002,
    0x0003, 0x708a,
    0x0007, 0x5649, 0x4445, 0x4f20, 0x5241, 0x4d20, 0x4552, 0x524f, 0x52ff,
    0x0003, 0x708c,
    //0x0004, 0x00c1, 0x6dba,
    0x0007, 0x4144, 0x4452, 0x4553, 0x5320, 0x2020, 0x5752, 0x4954, 0x4520, 0x5245, 0x4144, 0xffff,
    0x0000,
};
static const uint16_t calendar_error[] = {
    0x0001, 0xf0ff, 
    0x2002, 
    0x0003, 0x708a, 
    0x0007, 0x4341, 0x4c45, 0x4e44, 0x4152, 0x2045, 0x5252, 0x4f52, 0xffff,
    0x0000
};
static const uint16_t system_rom_error[] = {
    0x0001, 0xf0ff, 
    0x2002, 
    0x0003, 0x708a, 
    0x0007, 0x5359, 0x5354, 0x454d, 0x2052, 0x4f4d, 0x2045, 0x5252, 0x4f52, 0xffff, 
    0x0000
};
static const uint16_t memory_card_error[] = {
    0x0001, 0xf0ff, 
    0x2002, 
    0x0003, 0x708a, 
    0x0007, 0x4d45, 0x4d4f, 0x5259, 0x2043, 0x4152, 0x4420, 0x4552, 0x524f, 0x52ff,
    0x0000    
};
static const uint16_t z80_error[] = {
    0x0001, 0xf0ff, 
    0x2002, 
    0x0003, 0x708a, 
    0x0007, 0x5a38, 0x3020, 0x4552, 0x524f, 0x52ff, 
    0x0000    
};

#endif // _BIOS_TEST_H